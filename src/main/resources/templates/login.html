<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>로그인</title>
    <link th:href="@{/style.css}" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <header>
        <h2>Login</h2>
    </header>

        <div class="input-box">
            <input id="userId" type="text" name="id" placeholder="아이디">
            <label for="userId">아이디</label>
        </div>
        <div class="input-box">
            <input id="password" type="password" name="password" placeholder="비밀번호">
            <label for="password">비밀번호</label>
        </div>
        <!-- <div id="forgot">비밀번호 찾기</div> -->
        <button onclick="login()" id="login">로그인</button>
        <button th:onclick="|location.href='@{join}'|">회원가입</button>
    <script th:inline="javascript">
        /*<![CDATA[*/
        $(document).ready(function() {
            var msg = [[${msg}]];
            if(msg!=null){
                alert(msg);
            }
        });
        function login(){
            var userId = $("#userId").val();
            var pass = $("#password").val();

            $.ajax({
                url: "/api/user/login",
                data : {id : userId, password : pass},
                type: 'POST',
                success: function(data){
                    console.log(data.code);
                },
                error: function(error){
                    console.error(error);
                }
            });
        }
        /*]]>*/
    </script>
</body>
</html>